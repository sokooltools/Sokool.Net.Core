@model List<UserRoleViewModel>
@{
	dynamic roleid = ViewBag.roleId;
}
<h1>@ViewData["Title"]</h1>

<form method="post">
	<div class="card mb-3">
		<div class="card-header">
			<h2>Add or remove users from this role</h2>
		</div>
		<div class="card-body">
			@for (int i = 0; i < Model.Count; i++)  // Warning: Model Binding will not work if this is changed to a 'for each' loop!
			{
				<div class="form-check m-1">
					<input type="hidden" asp-for="@Model[i].UserId" />
					<input type="hidden" asp-for="@Model[i].UserName" />
					<input class="form-check-input" asp-for="@Model[i].IsSelected" />
					<label class="form-check-label" asp-for="@Model[i].IsSelected">
						@Model[i].UserName
					</label>
				</div>
			}
		</div>
		<div class="card-footer">
			<input type="submit" name="name" value="Update" class="btn btn-primary w-auto" />
			<a asp-action="EditRole" asp-route-id="@roleid" class="btn btn-primary w-auto">Cancel</a>
		</div>
	</div>
</form>